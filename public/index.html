<!DOCTYPE html>
<html>
<head>
    <title>ChatGPT Heatmap Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>ChatGPT Conversation Heatmap</h1>
        <div id="status">Checking backend connection...</div>
        <div id="debug"></div>
        
        <div id="content" style="display: none;">
            <form id="uploadForm">
                <div class="form-group">
                    <label for="file">Upload conversations.json:</label>
                    <input type="file" id="file" accept=".json" required>
                </div>
                
                <div class="form-group">
                    <label for="timezone">Select your timezone:</label>
                    <select id="timezone" required></select>
                </div>
                
                <button type="submit">Generate Heatmap</button>
            </form>
            
            <div id="result">
                <img id="heatmap" style="display: none;">
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>

<!--
<!DOCTYPE html>
<html>
<head>
    <title>ChatGPT Heatmap Generator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:,">
</head>
<body>
    <div class="container">
        <h1>ChatGPT Conversation Heatmap</h1>
        <div id="status">Checking backend connection...</div>
        <div id="debug"></div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const statusDiv = document.getElementById('status');
            const debugDiv = document.getElementById('debug');

            // Test backend connection
            statusDiv.innerHTML = 'Attempting to connect to backend...';
            
            fetch('/api/test')
                .then(response => {
                    debugDiv.innerHTML += `<br>Response status: ${response.status}`;
                    return response.json();
                })
                .then(data => {
                    debugDiv.innerHTML += `<br>Data received: ${JSON.stringify(data)}`;
                    statusDiv.innerHTML = `<p style="color: green;">Backend connected! Message: ${data.message}</p>`;
                })
                .catch(error => {
                    debugDiv.innerHTML += `<br>Error: ${error.message}`;
                    statusDiv.innerHTML = `<p style="color: red;">Connection failed: ${error.message}</p>`;
                });
        });
    </script>
</body>
</html>

-->